<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ICC Trophies & Batting Averages</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
  <nav>
  <button data-view="bar">ICC Trophies</button>
  <button data-view="scatter">Top Batting Averages</button>
  <button data-view="sankey">IPL Highest Scores</button>
  <button data-view="pie">IPL Runs by Team</button> <!-- NEW -->
</nav>


  <!-- Bar Chart Filter -->
  <div id="bar-controls" style="text-align:center; margin:12px 0;">
    <label for="trophyFilter" style="font-weight:600; margin-right:8px;">
      Show trophy:
    </label>
    <select id="trophyFilter">
      <option value="total">Total</option>
      <option value="odi_wc">ODI World Cups</option>
      <option value="t20_wc">T20 World Cups</option>
      <option value="champions_trophy">Champions Trophy</option>
      <option value="wts">World Test Series</option>
    </select>
  </div>

  <!-- Scatter Plot Filter -->
  <div id="scatter-controls" style="text-align:center; margin:12px 0;">
    <label style="font-weight:600; margin-right:8px;">Show format:</label>
    <input type="checkbox" id="testChk" checked> <label for="testChk">Test</label>
    <input type="checkbox" id="odiChk"  checked style="margin-left:12px;"> <label for="odiChk">ODI</label>
  </div>

  <!-- Chart containers -->
  <svg id="bar"     width="780" height="600"></svg>
  <svg id="scatter" width="780" height="600" style="display:none"></svg>
  <div id="scatter-legend"></div>
<!-- Sankey Chart -->
<svg id="sankey" width="900" height="600" style="display:none"></svg>
<svg id="pie" width="780" height="600" style="display:none"></svg>

  <!-- Modules -->
  <script type="module" src="js/bar.js"></script>
  <script type="module" src="js/scatter.js"></script>
<script type="module" src="js/sankey.js"></script>
<script type="module" src="js/pie.js"></script>


  <!-- View toggle logic -->
  <script>
  const views = ["bar", "scatter", "sankey", "pie"];

  document.querySelectorAll('nav button').forEach(btn => {
    btn.addEventListener('click', () => {
      const view = btn.dataset.view;

      views.forEach(v => {
        const chart = document.getElementById(v);
        const controls = document.getElementById(v + "-controls");

        if (chart) chart.style.display = (v === view) ? "" : "none";
        if (controls) controls.style.display = (v === view) ? "" : "none";
      });
    });
  });

  window.addEventListener('DOMContentLoaded', () => {
    document.querySelector('button[data-view="bar"]').click();
  });
</script>


</body>
</html>
